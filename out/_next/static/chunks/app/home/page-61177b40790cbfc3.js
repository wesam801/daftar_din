(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{7162:(e,t,r)=>{Promise.resolve().then(r.bind(r,4468))},4468:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(5155),s=r(6046),a=r(2115),l=r(8173),i=r.n(l);function o(){let[e,t]=(0,a.useState)(!1),r=(0,s.useRouter)();return(0,n.jsxs)("header",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 text-white shadow-lg sticky top-0 z-50",children:[(0,n.jsxs)("div",{className:"container mx-auto flex justify-between items-center p-5",children:[(0,n.jsx)("div",{className:"flex items-center space-x-3",children:(0,n.jsx)(i(),{href:"/home",children:(0,n.jsx)("h1",{className:"text-xl font-bold tracking-wide",children:"دفتر دين"})})}),(0,n.jsxs)("nav",{className:"hidden md:flex space-x-4",children:[(0,n.jsx)(i(),{href:"/",className:"hover:text-indigo-400 transition-all py-2 mx-1",children:"الصفحة الرئيسية"}),(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("isAuthenticated"),r.push("/login")},className:"bg-red-500 p-2 rounded-lg hover:bg-red-400 mx-1",children:"تسجيل خروج"})]}),(0,n.jsx)("div",{className:"md:hidden",children:(0,n.jsx)("button",{onClick:()=>{t(!e)},className:"text-white focus:outline-none",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]}),e&&(0,n.jsxs)("div",{className:"md:hidden bg-gray-800 text-white py-3 space-y-2",children:[(0,n.jsx)(i(),{href:"/",className:"block px-4 py-2 hover:bg-gray-700 transition-all",children:"الصفحة الرئيسية"}),(0,n.jsx)(i(),{href:"/",className:"block px-4 py-2 hover:bg-gray-700 transition-all",children:"الحساب"}),(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("isAuthenticated"),r.push("/login")},className:"block px-4 py-2 hover:bg-gray-700 transition-all w-full text-start bg-red-500",children:"تسجيل خروج"})]})]})}function d(){let[e,t]=(0,a.useState)([{name:"",number:0}]),[r,s]=(0,a.useState)([...e]),[l,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[c,x]=(0,a.useState)(""),[p,u]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[h,b]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),v=()=>b(e=>!e),j=()=>f(e=>!e);return(0,n.jsxs)("div",{style:{padding:"1rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"10px 0"},children:[(0,n.jsx)("button",{type:"button",className:"bg-gray-800 mx-3 hover:bg-gray-700",onClick:v,style:{color:"white",padding:"5px 10px",height:"50px",borderRadius:"5px",marginTop:"10px",bottom:"30px",fontSize:"20px"},children:"اضافة"}),h&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,n.jsx)("div",{className:"bok-div-2",style:{marginTop:"20px",padding:"10px",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%"},children:(0,n.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),e.some(e=>e.name===l.trim())){alert("هذا الاسم موجود بالفعل. يرجى إدخال اسم مختلف.");return}if(""!==l.trim()&&""!==o.trim()){let r=[...e,{name:l,number:Number(o)}];t(r),s(r),i(""),d(""),b(!1)}},style:{textAlign:"center"},children:[(0,n.jsx)("h3",{className:"text-gray-800 text-xl font-bold py-5",children:"إضافة اسم جديد"}),(0,n.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"ادخل الاسم",style:{padding:"10px 20px",marginBottom:"10px",width:"90%"},className:"rounded-lg my-3"}),(0,n.jsx)("input",{type:"number",value:o,onChange:e=>d(e.target.value),placeholder:"ادخل الدين",style:{padding:"10px 20px",marginBottom:"10px",width:"90%"},className:"rounded-lg my-3"}),(0,n.jsxs)("div",{className:"my-3",children:[(0,n.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-400",style:{padding:"10px 50px",color:"#fff",border:"none",borderRadius:"5px",margin:"5px"},children:"حفظ"}),(0,n.jsx)("button",{type:"button",onClick:v,className:"bg-red-500 hover:bg-red-400",style:{padding:"10px 50px",color:"#fff",border:"none",borderRadius:"5px",margin:" 5px"},children:"إلغاء"})]})]})})}),(0,n.jsx)("button",{type:"button",onClick:j,className:"bg-green-500 hover:bg-green-400",style:{color:"white",padding:"5px 10px",height:"50px",borderRadius:"5px",marginTop:"10px",bottom:"30px",fontSize:"20px"},children:"تعديل"}),y&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,n.jsx)("div",{className:"bok-div-2",style:{marginTop:"20px",padding:"10px",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%"},children:(0,n.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),!m){alert("يرجى اختيار اسم للتحديث.");return}let n=e.map(e=>{if(e.name===m){var t;let r=null!==(t=e.number)&&void 0!==t?t:0;return c&&(r+=Number(c)),p&&(r-=Number(p)),{...e,number:r}}return e});t(n),s(n),x(""),u(""),f(!1)},style:{textAlign:"center"},children:[(0,n.jsx)("h3",{className:"text-gray-800 text-xl font-bold py-5",children:"تعديل الديون"}),(0,n.jsxs)("select",{value:m,className:"my-3",onChange:e=>g(e.target.value),style:{padding:"6px 20px",marginBottom:"10px",width:"90%",borderRadius:"8px",border:"1px solid #ccc",backgroundColor:"#f9f9f9",fontSize:"16px",color:"#333",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},children:[(0,n.jsx)("option",{value:"",children:"اختر اسمًا"}),e.map((e,t)=>(0,n.jsx)("option",{value:e.name||"",children:e.name||"اسم غير محدد"},t))]}),(0,n.jsx)("input",{type:"number",value:c,onChange:e=>x(e.target.value),placeholder:"أدخل الدين",style:{padding:"10px 20px",width:"90%"},className:"rounded-lg my-3"}),(0,n.jsx)("input",{type:"number",value:p,onChange:e=>u(e.target.value),placeholder:"أدخل الدفعة",style:{padding:"10px 20px",marginBottom:"10px",width:"90%"},className:"rounded-lg my-3"}),(0,n.jsxs)("div",{className:"my-5",children:[(0,n.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-400",style:{padding:"10px 50px",color:"#fff",border:"none",borderRadius:"5px",margin:" 5px"},children:"حفظ"}),(0,n.jsx)("button",{type:"button",onClick:j,className:"bg-red-500 hover:bg-red-400",style:{padding:"10px 50px",color:"#fff",border:"none",borderRadius:"5px",margin:" 5px"},children:"إلغاء"})]})]})})})]}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"search",placeholder:"ابحث هنا ...",onChange:t=>{let r=t.target.value.toLowerCase();s(e.filter(e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.number)||void 0===n?void 0:n.toString().includes(r))}))},style:{outline:"none"},className:" w-full p-2 rounded-lg border border-solid border-gray-800"})}),(0,n.jsx)("nav",{children:(null==r?void 0:r.length)>0?r.map((e,t)=>{var r;return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"shadow-lg p-2 my-4 rounded-lg  text-gray-800 border border-solid border-gray-200",children:[(0,n.jsx)("div",{children:e.name||"اسم غير محدد"}),(0,n.jsxs)("div",{style:{color:"green"},className:"flex items-center",children:[(0,n.jsx)("span",{children:null!==(r=e.number)&&void 0!==r?r:0}),(0,n.jsx)("span",{style:{margin:"0 5px",fontWeight:"bold"},children:"$"})]})]})},t)}):(0,n.jsx)("div",{className:"shadow-lg p-2 my-4 rounded-lg  text-gray-800 border border-solid border-gray-200",children:(0,n.jsx)("p",{children:"لا توجد نتائج مطابقة"})})})]})}function c(){let e=(0,s.useRouter)();return(0,a.useEffect)(()=>{localStorage.getItem("isAuthenticated")||e.push("/login")},[e]),(0,n.jsxs)("div",{children:[(0,n.jsx)(o,{}),(0,n.jsx)(d,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[28,441,517,358],()=>t(7162)),_N_E=e.O()}]);